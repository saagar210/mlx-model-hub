# LocalCrew Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# APPLICATION
# =============================================================================

# Application name (displayed in logs and health checks)
APP_NAME=LocalCrew

# Application version
APP_VERSION=0.1.0

# Debug mode (set to true for development, false for production)
DEBUG=false

# =============================================================================
# API SERVER
# =============================================================================

# API host (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
API_HOST=0.0.0.0

# API port
API_PORT=8001

# =============================================================================
# DATABASE (Required)
# =============================================================================

# PostgreSQL connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
# IMPORTANT: Change credentials for production!
DATABASE_URL=postgresql+asyncpg://localcrew:localcrew@localhost:5432/localcrew

# =============================================================================
# MLX CONFIGURATION (Apple Silicon)
# =============================================================================

# Primary model for inference (requires ~16GB RAM for 14B model)
MLX_MODEL_ID=mlx-community/Qwen2.5-14B-Instruct-4bit

# Fallback model if primary fails to load (requires ~8GB RAM)
MLX_FALLBACK_MODEL_ID=mlx-community/Qwen2.5-7B-Instruct-4bit

# Maximum tokens to generate
MLX_MAX_TOKENS=4096

# Temperature for generation (0.0-1.0, lower = more deterministic)
MLX_TEMPERATURE=0.7

# =============================================================================
# HUMAN REVIEW
# =============================================================================

# Confidence threshold for auto-approval (0-100)
# Outputs below this threshold require human review
CONFIDENCE_THRESHOLD=70

# =============================================================================
# MLFLOW (Optional - for experiment tracking)
# =============================================================================

# MLflow tracking server URI
MLFLOW_TRACKING_URI=http://localhost:5000

# Experiment name for tracking
MLFLOW_EXPERIMENT_NAME=localcrew

# =============================================================================
# KAS INTEGRATION (Optional - Knowledge Activation System)
# =============================================================================

# Enable KAS integration for personal knowledge base
KAS_ENABLED=false

# KAS API endpoint
KAS_BASE_URL=http://localhost:8000

# KAS API key (optional, only needed if KAS requires authentication)
# KAS_API_KEY=your-api-key-here

# Request timeout in seconds
KAS_TIMEOUT=10.0

# =============================================================================
# LOGGING
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================
# Before deploying to production:
#
# 1. DATABASE_URL: Use strong, unique credentials
#    - Generate password: openssl rand -base64 32
#    - Use SSL: add ?sslmode=require to URL
#
# 2. DEBUG: Set to false
#
# 3. API_HOST: Consider 127.0.0.1 if behind reverse proxy
#
# 4. KAS_API_KEY: Use a secure API key if KAS requires auth
#
# 5. CORS: Update allowed_origins in main.py for your domain
#
# 6. HTTPS: Use a reverse proxy (nginx/caddy) with TLS
#
# 7. Rate Limiting: Consider adding slowapi for rate limiting
#
# See CLAUDE.md for full configuration documentation.
